<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Sécurité de base : Empêcher le "MIME Sniffing" et limiter les accès -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    
    <!-- SEO de base -->
    <title>GF Productions | Production et Diffusion de Spectacles Vivants</title>
    <meta name="description" content="GF Productions accompagne les talents du théâtre contemporain et de la comédie. Découvrez notre catalogue de spectacles, nos dates de tournée et notre service de booking pro.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="GF Productions | Le Théâtre de Demain">
    <meta property="og:description" content="Catalogue de productions théâtrales et calendrier de tournée nationale.">
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        .poster-gradient { background: linear-gradient(135deg, rgba(26,26,26,0.85) 0%, rgba(51,51,51,0.5) 100%); }
        .page-transition { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .img-container img { transition: transform 0.7s ease-in-out; }
        .group:hover .img-container img { transform: scale(1.1); }
        /* Style pour les messages d'erreur du formulaire */
        .error-border { border: 2px solid #ef4444 !important; }
    </style>
</head>
<body class="bg-stone-50 text-stone-900">

    <header>
        <nav class="fixed w-full z-50 bg-white/80 backdrop-blur-md border-b border-stone-200" role="navigation">
            <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
                <div class="text-2xl font-serif font-bold tracking-tighter cursor-pointer" onclick="showPage('home')">
                    GF <span class="text-amber-600">PRODUCTIONS</span>
                </div>
                <div class="hidden md:flex space-x-8 font-medium text-sm uppercase tracking-widest items-center">
                    <a href="javascript:void(0)" onclick="showPage('home')" class="hover:text-amber-600 transition">Accueil</a>
                    <a href="javascript:void(0)" onclick="showPage('calendar')" class="hover:text-amber-600 transition">Tournée</a>
                    <a href="javascript:void(0)" onclick="showPage('booking')" class="hover:text-amber-600 transition">Booking Pro</a>
                </div>
            </div>
        </nav>
    </header>

    <main id="content-area" class="pt-20">
        <!-- Contenu généré dynamiquement -->
    </main>

    <footer class="bg-stone-100 border-t border-stone-200 py-12 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-stone-500 text-sm">
            <div class="font-serif font-bold text-stone-900 text-lg">GF PRODUCTIONS</div>
            <nav class="flex space-x-6 my-4 md:my-0">
                <a href="javascript:void(0)" onclick="showPage('home')" class="hover:text-amber-600">Spectacles</a>
                <a href="javascript:void(0)" onclick="showPage('calendar')" class="hover:text-amber-600">Tournée</a>
                <a href="javascript:void(0)" onclick="showPage('booking')" class="hover:text-amber-600">Contact Booking</a>
            </nav>
            <div class="mt-4 md:mt-0">© 2024 GF Productions - Production de spectacles vivants.</div>
        </div>
    </footer>

    <script>
        /* ================================================================
           SECTION MAINTENANCE : MODIFIEZ LES DONNÉES CI-DESSOUS
           ================================================================
        */

        const shows = [
            {
                id: 'spectacle-1',
                title: "L'Ombre du Silence",
                genre: "Drame Contemporain",
                description: "Une exploration poignante des non-dits familiaux et de la transmission.",
                fullContent: "L'Ombre du Silence est une œuvre magistrale sur la mémoire et la transmission, mise en scène pour captiver les publics de théâtres nationaux.",
                posterImage: "B9E6F3D8-F563-4B95-9971-ECC50D454812.jpg",
                fallbackImage: "https://images.unsplash.com/photo-1507676184212-d03ab07a01bf?auto=format&fit=crop&q=80&w=1000",
                billetReducId: "12345",
                ticketLink: "https://www.billetreduc.com"
            },
            {
                id: 'spectacle-2',
                title: "Éclats de Rire",
                genre: "Comédie de Boulevard",
                description: "Une succession de quiproquos rythmée dans la pure tradition du théâtre de boulevard.",
                fullContent: "Le grand retour du boulevard dans une mise en scène moderne et électrique.",
                posterColor: "#d63031",
                fallbackImage: "https://images.unsplash.com/photo-1503095396549-807039045349?auto=format&fit=crop&q=80&w=1000",
                billetReducId: "67890",
                ticketLink: "#"
            },
            {
                id: 'spectacle-3',
                title: "Milliardaire Débile",
                genre: "Comédie Satirique",
                description: "Une satire féroce et hilarante sur le monde de la finance et de l'ego.",
                fullContent: "Milliardaire Débile est la nouvelle comédie phare de GF Productions, une critique sociale acide servie par un rythme effréné.",
                posterColor: "#1e3a8a",
                fallbackImage: "https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&q=80&w=1000",
                billetReducId: "11223",
                ticketLink: "#"
            }
        ];

        const calendarDates = [
            { date: "15 Janv 2024", show: "L'Ombre du Silence", city: "Paris", venue: "Théâtre de la Ville", link: "https://site-du-theatre.com" },
            { date: "22 Janv 2024", show: "Éclats de Rire", city: "Lyon", venue: "Radiant-Bellevue", link: "#" },
            { date: "05 Fév 2024", show: "L'Ombre du Silence", city: "Bordeaux", venue: "Théâtre Fémina", link: "#" }
        ];

        /* ================================================================
           LOGIQUE DE RENDU
           ================================================================
        */

        function renderHome() {
            const html = `
                <section class="page-transition">
                    <div class="max-w-7xl mx-auto px-6 py-16 text-center">
                        <h1 class="text-5xl md:text-7xl mb-6 font-serif">Toutes les pièces GF Productions</h1>
                        <p class="text-stone-600 text-xl max-w-3xl mx-auto mb-20">Découvrez les dernières créations de <strong>GF Productions</strong>, spécialisé dans le drame contemporain et la comédie de boulevard.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mt-16">
                            ${shows.map(show => `
                                <article class="group cursor-pointer" onclick="showPage('detail', '${show.id}')">
                                    <div class="relative overflow-hidden rounded-2xl shadow-xl h-[500px] img-container bg-stone-200">
                                        <img src="${show.posterImage || show.fallbackImage}" 
                                             onerror="this.src='${show.fallbackImage}'"
                                             class="absolute inset-0 w-full h-full object-cover" 
                                             alt="Affiche du spectacle ${show.title} - ${show.genre}">
                                        <div class="absolute inset-0 poster-gradient"></div>
                                        <div class="absolute inset-0 p-8 flex flex-col justify-end items-start text-left text-white">
                                            <header>
                                                <span class="text-amber-400 font-semibold tracking-widest text-xs uppercase mb-2">${show.genre}</span>
                                                <h2 class="text-3xl font-serif mb-3 leading-tight">${show.title}</h2>
                                            </header>
                                            <p class="text-stone-300 text-sm line-clamp-3">${show.description}</p>
                                        </div>
                                    </div>
                                </article>
                            `).join('')}
                        </div>
                    </div>
                </section>
            `;
            document.getElementById('content-area').innerHTML = html;
        }

        function renderCalendar() {
            const html = `
                <section class="page-transition max-w-7xl mx-auto px-6 py-16 min-h-screen">
                    <h1 class="text-5xl font-serif mb-12 text-center">Dates de Tournée Théâtre 2024</h1>
                    <div class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-stone-200">
                        <table class="w-full text-left">
                            <thead class="bg-stone-50 text-stone-400 uppercase text-[10px] font-bold tracking-widest">
                                <tr>
                                    <th class="px-8 py-5">Date</th>
                                    <th class="px-8 py-5">Spectacle</th>
                                    <th class="px-8 py-5">Lieu & Ville</th>
                                    <th class="px-8 py-5 text-right">Billetterie</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-stone-100">
                                ${calendarDates.map(item => `
                                    <tr class="hover:bg-amber-50/40 transition">
                                        <td class="px-8 py-8 font-semibold">${item.date}</td>
                                        <td class="px-8 py-8">
                                            <h3 class="font-serif text-xl italic text-amber-700">${item.show}</h3>
                                        </td>
                                        <td class="px-8 py-8">
                                            <div class="font-bold text-stone-800">${item.venue}</div>
                                            <div class="text-sm text-stone-400">${item.city}</div>
                                        </td>
                                        <td class="px-8 py-8 text-right">
                                            <a href="${item.link}" target="_blank" rel="noopener" class="bg-stone-900 text-white px-6 py-2 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-amber-600 transition inline-block">Réserver</a>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </section>
            `;
            document.getElementById('content-area').innerHTML = html;
            window.scrollTo(0,0);
        }

        function renderDetail(showId) {
            const show = shows.find(s => s.id === showId);
            if (!show) return renderHome();
            const html = `
                <article class="page-transition min-h-screen pb-20">
                    <div class="max-w-7xl mx-auto px-6 py-12">
                        <nav class="mb-12">
                            <button onclick="showPage('home')" class="flex items-center text-stone-500 hover:text-amber-600 transition">
                                ← Retour au catalogue
                            </button>
                        </nav>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-16">
                            <div class="rounded-3xl shadow-2xl aspect-[2/3] relative overflow-hidden bg-stone-200">
                                <img src="${show.posterImage || show.fallbackImage}" 
                                     onerror="this.src='${show.fallbackImage}'" 
                                     class="absolute inset-0 w-full h-full object-cover"
                                     alt="Affiche de la pièce ${show.title}">
                            </div>
                            <div class="space-y-8">
                                <header>
                                    <span class="text-amber-600 font-bold uppercase tracking-widest text-xs">${show.genre}</span>
                                    <h1 class="text-6xl font-serif mt-2">${show.title}</h1>
                                </header>
                                <p class="text-xl text-stone-700 leading-relaxed font-light">${show.fullContent}</p>
                                <div class="flex flex-col sm:flex-row gap-4 pt-6">
                                    <a href="${show.ticketLink}" target="_blank" rel="noopener" class="bg-amber-600 text-white px-10 py-5 rounded-xl font-bold hover:bg-amber-700 transition shadow-lg text-center">Réserver des places</a>
                                    <button onclick="showPage('booking')" class="bg-stone-900 text-white px-10 py-5 rounded-xl font-bold hover:bg-stone-800 transition text-center">Dossier de Presse / Pro</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            `;
            document.getElementById('content-area').innerHTML = html;
            window.scrollTo(0,0);
        }

        function renderBooking() {
            const html = `
                <section class="page-transition max-w-7xl mx-auto px-6 py-16 min-h-screen">
                    <div class="max-w-3xl">
                        <h1 class="text-5xl font-serif mb-6">Service Diffusion & Booking</h1>
                        <p class="text-stone-500 text-lg mb-12">Contactez-nous pour recevoir nos dossiers de vente et fiches techniques.</p>
                        <div class="bg-white p-10 rounded-3xl shadow-2xl border border-stone-100">
                            <form id="contactForm" onsubmit="handleFormSubmit(event)" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <input type="text" id="organizer" placeholder="Théâtre / Organisateur" class="w-full bg-stone-50 border border-stone-200 rounded-xl p-4 focus:border-amber-600 outline-none transition-all" required>
                                    <input type="email" id="email" placeholder="Email professionnel" class="w-full bg-stone-50 border border-stone-200 rounded-xl p-4 focus:border-amber-600 outline-none transition-all" required>
                                </div>
                                <textarea id="message" rows="5" placeholder="Précisez le spectacle et les périodes souhaitées..." class="w-full bg-stone-50 border border-stone-200 rounded-xl p-4 focus:border-amber-600 outline-none transition-all" required></textarea>
                                
                                <!-- Champ Honeypot (Anti-Spam invisible pour les humains) -->
                                <div style="display:none">
                                    <input type="text" id="website_trap" tabindex="-1" autocomplete="off">
                                </div>

                                <button id="submitBtn" class="w-full bg-stone-900 text-white font-bold py-5 rounded-xl hover:bg-amber-600 transition uppercase tracking-widest text-sm shadow-xl">
                                    Contacter la Diffusion
                                </button>
                                <p id="formFeedback" class="text-center text-sm font-medium mt-4 hidden"></p>
                            </form>
                        </div>
                    </div>
                </section>
            `;
            document.getElementById('content-area').innerHTML = html;
            window.scrollTo(0,0);
        }

        // --- LOGIQUE DE SÉCURITÉ DU FORMULAIRE ---
        function handleFormSubmit(event) {
            event.preventDefault();
            const btn = document.getElementById('submitBtn');
            const feedback = document.getElementById('formFeedback');
            const trap = document.getElementById('website_trap').value;
            
            // 1. Détection de bot (Honeypot)
            if (trap !== "") {
                console.warn("Spam détecté");
                return;
            }

            // 2. Assainissement basique (Sanitization)
            const organizer = document.getElementById('organizer').value.replace(/<[^>]*>?/gm, '');
            const message = document.getElementById('message').value.replace(/<[^>]*>?/gm, '');

            btn.disabled = true;
            btn.innerHTML = "Envoi en cours...";
            
            // Simulation d'envoi (Ici vous connecteriez un service comme Formspree ou EmailJS)
            setTimeout(() => {
                feedback.innerHTML = "✓ Merci " + organizer + ", votre message a été envoyé avec succès.";
                feedback.classList.remove('hidden', 'text-red-600');
                feedback.classList.add('text-green-600');
                document.getElementById('contactForm').reset();
                btn.disabled = false;
                btn.innerHTML = "Contacter la Diffusion";
            }, 1500);
        }

        function showPage(page, id = null) {
            if (page === 'home') renderHome();
            else if (page === 'calendar') renderCalendar();
            else if (page === 'detail') renderDetail(id);
            else if (page === 'booking') renderBooking();
        }

        window.onload = renderHome;
    </script>
</body>
</html>
